function AutoLike(e,t){this.tag=e,this.maxNumbersOfPost=t,this.timerPage=2e3,this.timerLike=6e4,this.edges=[],this.index=0}AutoLike.prototype={constructor:AutoLike,start:function(){let e=this._prepareRequestHeader();this.edges=[],this.index=0,e?this._getQueryHash():console.warn("You must login on www.instagram.com")},_loadTagNodes:function(){this._getRequest("https://www.instagram.com/explore/tags/"+this.tag+"/?__a=1",e=>this._parseNodes(e))},_loadNextPage:function(){let e=encodeURIComponent('{"tag_name":"'+this.tag+'","first":12,"after":"'+this.nextPage+'"}'),t="https://www.instagram.com/graphql/query/?query_hash="+this.query_hash+"&variables="+e;console.log("Log next page",t),this._getRequest(t,e=>this._parseNodes(e))},_parseNodes:function(e){var t=this;if(!1!==e){void 0!==e.data&&(e.graphql=e.data);let s=e.graphql.hashtag.edge_hashtag_to_media.edges;this.nextPage=e.graphql.hashtag.edge_hashtag_to_media.page_info.end_cursor;for(let e in s){let t=s[e].node.id;this.edges.push(t)}console.log("Get "+s.length+" id"),setTimeout(function(){t.edges.length<t.maxNumbersOfPost?t._loadNextPage():(console.log("Collected "+t.edges.length),t._startLikeTimer())},t.timerPage)}else console.warn("No data")},_startLikeTimer:function(){var e=this;console.log("Start Likes of "+this.edges.length+" posts every "+this.timerLike+"ms"),this._likeInterval=setInterval(function(){let t=e.edges[e.index++];console.log("Make like of "+t),e._doLike(t)},this.timerLike)},_postLUike:function(e,t){let s=new XMLHttpRequest;s.open("POST","https://www.instagram.com/web/likes/"+e+"/"+t+"/",!0);for(let e in this.rH)s.setRequestHeader(e,this.rH[e]);s.send()},_doLike:function(e){this._postLUike(e,"like")},_doUnLike:function(e){this._postLUike(e,"unlike")},_prepareRequestHeader:function(){this.rH={},this.rH.Accept="*/*",this.rH["Content-Type"]="application/x-www-form-urlencoded",this.rH["X-Requested-With"]="XMLHttpRequest",this.rH["X-IG-WWW-Claim"]="0",this.rH["X-IG-App-ID"]="936619743392459";try{return this.rH["X-Instagram-AJAX"]=window._sharedData.rollout_hash,this.rH["X-CSRFToken"]=window._sharedData.config.csrf_token,!0}catch(e){return!1}},_getQueryHash:function(){let e=this;var t=XMLHttpRequest.prototype,s=t.open;t.open=function(a,o){let i=e._getParameterByName("query_hash",o),n=e._getParameterByName("variables",o);if(null!=i&&null!=n){(n=JSON.parse(n)).tag_name==e.tag&&(console.log("Query Hash Found",i),e.query_hash=i,t.open=s,e._loadTagNodes(),clearInterval(e._intervalScroll))}return s.apply(this,arguments)},this._intervalScroll=setInterval(function(){window.scrollTo(0,document.body.scrollHeight)},1e3)},_getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null},_getRequest:function(e,t){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status)try{let e=JSON.parse(s.responseText);t(e)}catch(e){t(!1)}},s.open("GET",e,!0),s.send(null)}};